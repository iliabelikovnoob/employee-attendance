# üìö –ë–∞–∑–∞ –ó–Ω–∞–Ω–∏–π - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ Prisma schema —Å 9 –º–æ–¥–µ–ª—è–º–∏
- ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞: `prisma/migrations/20260210_add_knowledge_base/migration.sql`

### 2. API Endpoints

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:**
- ‚úÖ GET `/api/kb/categories` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ GET `/api/kb/categories/:id` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è + –µ—ë —Å—Ç–∞—Ç—å–∏
- ‚úÖ POST `/api/kb/categories` - —Å–æ–∑–¥–∞—Ç—å (admin only)
- ‚úÖ PUT `/api/kb/categories/:id` - –æ–±–Ω–æ–≤–∏—Ç—å (admin only)
- ‚úÖ DELETE `/api/kb/categories/:id` - —É–¥–∞–ª–∏—Ç—å (admin only)

**–°—Ç–∞—Ç—å–∏:**
- ‚úÖ GET `/api/kb/articles` - —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π (–ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã)
- ‚úÖ GET `/api/kb/articles/:id` - –æ–¥–Ω–∞ —Å—Ç–∞—Ç—å—è
- ‚úÖ POST `/api/kb/articles` - —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é
- ‚úÖ PUT `/api/kb/articles/:id` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é
- ‚úÖ DELETE `/api/kb/articles/:id` - —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç—å—é
- ‚úÖ POST `/api/kb/articles/:id/publish` - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (admin only)
- ‚úÖ POST `/api/kb/articles/:id/reject` - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å (admin only)

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: Prisma Migrate (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
npx prisma migrate deploy
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Prisma DB Push (–¥–ª—è dev)
```bash
npx prisma db push
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ psql
```bash
psql -d your_database_name -f prisma/migrations/20260210_add_knowledge_base/migration.sql
```

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è MVP

### –ó–∞–¥–∞—á–∏ –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** `/knowledge-base` (–ó–∞–¥–∞—á–∞ 2.4)
   - –ü–æ–∏—Å–∫ —Å debounce
   - –ë–ª–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (—Å–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫)
   - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
   - –ù–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ
   - –ú–æ–∏ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ

2. **Markdown —Ä–µ–¥–∞–∫—Ç–æ—Ä** (–ó–∞–¥–∞—á–∞ 2.6)
   - –°—Ç—Ä–∞–Ω–∏—Ü—ã `/knowledge-base/new` –∏ `/knowledge-base/edit/:id`
   - –†–µ–¥–∞–∫—Ç–æ—Ä —Å –ø—Ä–µ–≤—å—é
   - –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
   - –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage

3. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç—å–∏** (–ó–∞–¥–∞—á–∞ 2.7)
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/knowledge-base/article/:slug`
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ Markdown
   - –ö–Ω–æ–ø–∫–∞ "–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
   - –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

4. **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏** `[[–Ω–∞–∑–≤–∞–Ω–∏–µ]]` (–ó–∞–¥–∞—á–∞ 2.8)
   - –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   - –ê–≤—Ç–æ–∑–∞–º–µ–Ω–∞ –Ω–∞ —Å—Å—ã–ª–∫–∏
   - –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

5. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**
   - –î–æ–±–∞–≤–∏—Ç—å "–ë–∞–∑–∞ –ó–Ω–∞–Ω–∏–π" –≤ Header
   - Dropdown –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API endpoints (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

- `/api/kb/search?q=–∑–∞–ø—Ä–æ—Å` - –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- `/api/kb/popular` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å—Ç–∞—Ç—å–∏
- `/api/kb/recent` - –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ
- `/api/kb/favorites` - –∏–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/api/kb/tags` - —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤
- `/api/kb/articles/:id/comments` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç–∞—Ç—å–µ

---

## üì¶ –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ npm –ø–∞–∫–µ—Ç—ã

–î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:
```bash
npm install react-markdown rehype-highlight remark-gfm
npm install @uiw/react-md-editor
```

---

## ‚ú® –§–∏—á–∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

### MVP (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ API –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- ‚úÖ API —Å—Ç–∞—Ç–µ–π
- ‚è≥ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚è≥ –†–µ–¥–∞–∫—Ç–æ—Ä Markdown
- ‚è≥ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—å–∏
- ‚è≥ –ù–∞–≤–∏–≥–∞—Ü–∏—è

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –¢–µ–≥–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
- –ì—Ä–∞—Ñ —Å–≤—è–∑–µ–π (–∫–∞–∫ –≤ Obsidian)
- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ
- –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ
- –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

**–°—Ç–∞—Ç—É—Å:** Backend –≥–æ—Ç–æ–≤, –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å Frontend! üéâ
