# üéâ –§–ò–ù–ê–õ–¨–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø - –°–í–û–î–ö–ê

## ‚úÖ –ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢:

### 1. –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—Ä–æ—Å—ã" –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚úÖ
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è, —Å–ø—Ä–∞–≤–∞ –æ—Ç –ø–æ–∏—Å–∫–∞
- –¶–≤–µ—Ç: –§–∏–æ–ª–µ—Ç–æ–≤–∞—è
- –§—É–Ω–∫—Ü–∏—è: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤—Ö–æ–¥—è—â–∏–º–∏/–∏—Å—Ö–æ–¥—è—â–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ –æ–±–º–µ–Ω

### 2. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ–±–º–µ–Ω ‚úÖ
- –§–∞–π–ª: `SwapRequestsModal.tsx`
- –î–≤–µ –≤–∫–ª–∞–¥–∫–∏: "–í—Ö–æ–¥—è—â–∏–µ" –∏ "–ò—Å—Ö–æ–¥—è—â–∏–µ"
- –í—Ö–æ–¥—è—â–∏–µ: —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –æ–¥–æ–±—Ä–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å
- –ò—Å—Ö–æ–¥—è—â–∏–µ: —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –∑–∞–ø—Ä–æ—Å—ã –∏ —Å—Ç–∞—Ç—É—Å

### 3. –ö–Ω–æ–ø–∫–∞ "–ï—â—ë" –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ ‚úÖ
- –ë—ã–ª–∞ —Å–ø—Ä–∞–≤–∞ –æ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –û—Å—Ç–∞–ª–∞—Å—å –Ω–∞ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π "–ó–∞–ø—Ä–æ—Å—ã"

---

## üìã –ß–¢–û –ù–£–ñ–ù–û –î–û–î–ï–õ–ê–¢–¨ –í–†–£–ß–ù–£–Æ:

### 1. –î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–û–±–º–µ–Ω—ã" –≤ –∞–¥–º–∏–Ω–∫—É
üìÑ –°–º. —Ñ–∞–π–ª: `ADMIN_SWAP_TAB.md`
- –û—Ç–∫—Ä—ã—Ç—å `/app/(dashboard)/requests/page.tsx`
- –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –∏–∑ —Ñ–∞–π–ª–∞

### 2. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö –ø–æ–¥ –≤–∏–¥–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–∏
–°–µ–π—á–∞—Å –≤–∏–¥–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ header –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ:
- –ù–∞—á–∞—Ç—å –¥–µ–Ω—å
- –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å
- –ò—Å—Ç–æ—Ä–∏—è

**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**
–ö–Ω–æ–ø–∫—É "–û—Ç–º–µ—Ç–∏—Ç—å —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ" –∫–æ—Ç–æ—Ä–∞—è:
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É `AddOvertimeModal`
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É –æ—Ç–º–µ—Ç–∏—Ç—å –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫—É
- –£–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞, –æ–∫–æ–Ω—á–∞–Ω–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ

**–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å:**
–í —Ñ–∞–π–ª–µ `/components/work-time/WorkTimeWidget.tsx` –≤ —Å–µ–∫—Ü–∏–∏ "–î–µ–π—Å—Ç–≤–∏—è":

```typescript
<button
  onClick={() => {
    setShowDropdown(false);
    // –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö
    onOpenOvertimeModal?.();
  }}
  className="w-full mt-2 px-4 py-2.5 bg-orange-100 dark:bg-orange-900/20 hover:bg-orange-200 dark:hover:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-lg flex items-center justify-center gap-2 transition-colors"
>
  <IoMoon className="w-5 h-5" />
  <span>–û—Ç–º–µ—Ç–∏—Ç—å —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ</span>
</button>
```

–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–ø—Å:
```typescript
interface WorkTimeWidgetProps {
  onOpenHistory: () => void;
  onOpenOvertimeModal?: () => void; // –ù–æ–≤—ã–π
}
```

–í Header.tsx:
```typescript
<WorkTimeWidget 
  onOpenHistory={() => setShowWorkTimeHistory(true)}
  onOpenOvertimeModal={() => setShowOvertimeModal(true)}
/>

{/* –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –º–æ–¥–∞–ª–∫—É */}
const [showOvertimeModal, setShowOvertimeModal] = useState(false);

<AddOvertimeModal
  isOpen={showOvertimeModal}
  onClose={() => setShowOvertimeModal(false)}
  onSuccess={() => {
    setShowOvertimeModal(false);
  }}
  userId={session?.user?.id}
  allUsers={[]}
/>
```

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê:

### –î–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
```
–ö–∞–ª–µ–Ω–¥–∞—Ä—å
‚îú‚îÄ [–ù–∞–π—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞]
‚îú‚îÄ [üîÑ –ó–∞–ø—Ä–æ—Å—ã] ‚Üê –ù–û–í–ê–Ø –ö–ù–û–ü–ö–ê
‚îÇ   ‚îú‚îÄ –í—Ö–æ–¥—è—â–∏–µ (–æ–±–º–µ–Ω—ã)
‚îÇ   ‚îî‚îÄ –ò—Å—Ö–æ–¥—è—â–∏–µ (–æ–±–º–µ–Ω—ã)
‚îî‚îÄ Header
    ‚îî‚îÄ [‚è∞ –í—Ä–µ–º—è]
        ‚îú‚îÄ –ù–∞—á–∞—Ç—å –¥–µ–Ω—å
        ‚îú‚îÄ –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å
        ‚îú‚îÄ [üåô –û—Ç–º–µ—Ç–∏—Ç—å —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ] ‚Üê –î–û–ë–ê–í–ò–¢–¨
        ‚îî‚îÄ [üìä –ò—Å—Ç–æ—Ä–∏—è]
```

### –î–ª—è –∞–¥–º–∏–Ω–∞:
```
–ó–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ [–í—Å–µ]
‚îú‚îÄ [üìÖ –û—Ç–ø—É—Å–∫–∞]
‚îú‚îÄ [‚è∞ –°–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ]
‚îú‚îÄ [üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è]
‚îî‚îÄ [üîÑ –û–±–º–µ–Ω—ã] ‚Üê –î–û–ë–ê–í–ò–¢–¨ (—Å–º. ADMIN_SWAP_TAB.md)
```

---

## üì¶ –§–∞–π–ª—ã –≤ –∞—Ä—Ö–∏–≤–µ:

### –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ `SwapRequestsModal.tsx` - –º–æ–¥–∞–ª–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- ‚úÖ `ScheduleSwapModal.tsx` - –º–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ `AddOvertimeModal.tsx` - –º–æ–¥–∞–ª–∫–∞ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö (—É–∂–µ –±—ã–ª–∞)

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `app/(dashboard)/page.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ó–∞–ø—Ä–æ—Å—ã"
- ‚úÖ Prisma schema - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ schedule_swap_requests
- ‚úÖ API endpoints - `/api/schedule-swap`

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- üìÑ `ADMIN_SWAP_TAB.md` - –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É –æ–±–º–µ–Ω–æ–≤ –∞–¥–º–∏–Ω—É
- üìÑ `RESTORE_ACCOUNTS.md` - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–æ–∫ –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- üìÑ `MIGRATION_FIX.md` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ë–î

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î:**
```bash
npx prisma migrate dev --name add_schedule_swap
npx prisma generate
```

2. **–î–æ–±–∞–≤–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–û–±–º–µ–Ω—ã" –∞–¥–º–∏–Ω—É** (ADMIN_SWAP_TAB.md)

3. **–î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö** –≤ –≤–∏–¥–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–∏

4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å:**
```bash
rm -rf .next
npm run dev
```

---

## ‚ú® –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:

‚úÖ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É "–ó–∞–ø—Ä–æ—Å—ã"
‚úÖ –ú–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ–±–º–µ–Ω (–∫–Ω–æ–ø–∫–∞ "–û–±–º–µ–Ω—è—Ç—å—Å—è" –≤ –¥–Ω–µ)
‚úÖ –í–∏–¥—è—Ç –≤—Ö–æ–¥—è—â–∏–µ –∏ –∏—Å—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
‚úÖ –ú–æ–≥—É—Ç –æ–¥–æ–±—Ä—è—Ç—å/–æ—Ç–∫–ª–æ–Ω—è—Ç—å –≤—Ö–æ–¥—è—â–∏–µ
‚úÖ –ú–æ–≥—É—Ç –æ—Ç–º–µ–Ω—è—Ç—å —Å–≤–æ–∏ –∏—Å—Ö–æ–¥—è—â–∏–µ

‚è≥ –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- –í–∫–ª–∞–¥–∫—É "–û–±–º–µ–Ω—ã" –≤ –∞–¥–º–∏–Ω–∫–µ
- –ö–Ω–æ–ø–∫—É —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö –≤ –≤–∏–¥–∂–µ—Ç –≤—Ä–µ–º–µ–Ω–∏

---

–ì–æ—Ç–æ–≤–æ! üéâ
