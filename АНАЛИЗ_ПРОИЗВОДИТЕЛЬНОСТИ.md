# üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏

**–î–∞—Ç–∞:** 13 —Ñ–µ–≤—Ä–∞–ª—è 2026
**–§–æ–∫—É—Å:** –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –∏ –æ–±—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
**–û–±—ä—ë–º –¥–∞–Ω–Ω—ã—Ö:** –¢–µ—Å—Ç–æ–≤—ã–µ (–º–∞–ª–æ –∑–∞–ø–∏—Å–µ–π)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–¥—Ç–æ—Ä–º–∞–∂–∏–≤–∞–Ω–∏—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **DayCell: O(n√óm) —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ** ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û

**–§–∞–π–ª:** `/components/calendar/DayCell.tsx` (—Å—Ç—Ä–æ–∫–∏ 37-46)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const usersByStatus = attendances.reduce((acc, att) => {
  const user = users.find(u => u.id === att.userId);  // ‚ùå O(n) –ø–æ–∏—Å–∫ –≤–Ω—É—Ç—Ä–∏ reduce!
  if (user) {
    if (!acc[att.status]) {
      acc[att.status] = [];
    }
    acc[att.status].push(user);
  }
  return acc;
}, {} as Record<string, User[]>);
```

**–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:**
- 35 –¥–Ω–µ–π –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- 10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- 300 –∑–∞–ø–∏—Å–µ–π –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –≤ –º–µ—Å—è—Ü
- **–ò—Ç–æ–≥–æ: 35 √ó (300 √ó 10) = 105,000 –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∏—Å–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä!**

**–ü–æ—á–µ–º—É —ç—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ:**
1. `users.find()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π attendance –∑–∞–ø–∏—Å–∏
2. –≠—Ç–æ O(n) –æ–ø–µ—Ä–∞—Ü–∏—è, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ü–∏–∫–ª–µ O(m) ‚Üí O(n√óm)
3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ù–ï –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω ‚Üí –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ—Ä–µ–Ω–¥–µ—Ä–µ —Ä–æ–¥–∏—Ç–µ–ª—è
4. 35 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ DayCell —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–í–ª–∏—è–Ω–∏–µ:** üî¥ –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –ù–ï–ú–ï–î–õ–ï–ù–ù–û

---

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π**

#### 2.1 `attendanceByDate` –≤ Calendar.tsx (—Å—Ç—Ä–æ–∫–∏ 34-41)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const attendanceByDate = attendances.reduce((acc, attendance) => {
  const dateKey = dateToString(new Date(attendance.date));
  if (!acc[dateKey]) {
    acc[dateKey] = [];
  }
  acc[dateKey].push(attendance);
  return acc;
}, {} as Record<string, Attendance[]>);
```

- –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ö–ê–ñ–î–û–ú —Ä–µ–Ω–¥–µ—Ä–µ Calendar
- –≠—Ç–æ –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è reduce –Ω–∞–¥ –≤—Å–µ–º–∏ attendances (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —Å–æ—Ç–Ω–∏ –∑–∞–ø–∏—Å–µ–π)
- –î–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useMemo`

**–í–ª–∏—è–Ω–∏–µ:** üü° –í–´–°–û–ö–û–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –í–´–°–û–ö–ò–ô

#### 2.2 –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ page.tsx (—Å—Ç—Ä–æ–∫–∏ 96-98)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const filteredAttendances = filters.statusFilter
  ? attendances.filter((att) => att.status === filters.statusFilter)
  : attendances;
```

- –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
- –ù–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
- –ü—Ä–∏ 300 –∑–∞–ø–∏—Å—è—Ö - 300 –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ–Ω–¥–µ—Ä

**–í–ª–∏—è–Ω–∏–µ:** üü° –°–†–ï–î–ù–ï–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –°–†–ï–î–ù–ò–ô

---

### 3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ —Å–º–µ–Ω–µ –º–µ—Å—è—Ü–∞**

**–§–∞–π–ª:** `/app/(dashboard)/page.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
useEffect(() => {
  fetchData();  // ‚ùå –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ —Å–º–µ–Ω–µ –º–µ—Å—è—Ü–∞
}, [currentDate]);

// fetchData –¥–µ–ª–∞–µ—Ç 2 –∑–∞–ø—Ä–æ—Å–∞:
// 1. /api/users
// 2. /api/attendance?view=month&date=...
```

**–ü–ª—é—Å –≤ Calendar.tsx:**
```typescript
useEffect(() => {
  fetchCommentCounts();  // ‚ùå –ï—â—ë –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å!
}, [currentDate]);
```

**–ò—Ç–æ–≥–æ:** **3 API –∑–∞–ø—Ä–æ—Å–∞** –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–º–µ–Ω–µ –º–µ—Å—è—Ü–∞
**–ü—Ä–æ–±–ª–µ–º–∞:**
- Users –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ –º–µ—Å—è—Ü–∞ - –∑–∞—á–µ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å?
- –ù–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise.all)

**–í–ª–∏—è–Ω–∏–µ:** üü° –í–´–°–û–ö–û–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –í–´–°–û–ö–ò–ô

---

### 4. **API: –õ–∏—à–Ω–∏–µ JOIN –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î**

**–§–∞–π–ª:** `/app/api/attendance/route.ts` (—Å—Ç—Ä–æ–∫–∏ 39-58)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const attendances = await prisma.attendance.findMany({
  where: { date: { gte: startDate, lte: endDate } },
  include: {
    user: {  // ‚ùå JOIN –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å!
      select: { id: true, name: true, avatar: true }
    }
  },
  orderBy: { date: 'asc' }
});
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. JOIN —Å —Ç–∞–±–ª–∏—Ü–µ–π User –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å attendance
2. –ú—ã –£–ñ–ï –∑–∞–≥—Ä—É–∂–∞–µ–º users –æ—Ç–¥–µ–ª—å–Ω–æ –≤ page.tsx
3. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö - —Ç—Ä–∞—Ç–∏–º —Ç—Ä–∞—Ñ–∏–∫ –∏ –ø–∞–º—è—Ç—å

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –£–±—Ä–∞—Ç—å `include: { user: ... }`
- –°–≤—è–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (—É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å users)

**–í–ª–∏—è–Ω–∏–µ:** üü° –°–†–ï–î–ù–ï–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –°–†–ï–î–ù–ò–ô

---

### 5. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (React.memo)**

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `DayCell.tsx` - —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è 35 —Ä–∞–∑
- `Calendar.tsx`
- `CalendarFilters.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
export default function DayCell({ ... }) {
  // ‚ùå –ù–µ—Ç React.memo
  // –†–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—è
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ ‚Üí –≤—Å–µ 35 DayCell –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏ ‚Üí –≤–µ—Å—å Calendar —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è
- –î–∞–∂–µ –µ—Å–ª–∏ props –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å!

**–í–ª–∏—è–Ω–∏–µ:** üü° –í–´–°–û–ö–û–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî• –í–´–°–û–ö–ò–ô

---

## üü° –°–†–ï–î–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 6. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤**

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ 50+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç —Å–∏–ª—å–Ω–æ –ª–∞–≥–∞—Ç—å
- –ù–µ—Ç –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ - –≤—Å–µ 35 –¥–Ω–µ–π —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Å—Ä–∞–∑—É
- –í –º–æ–¥–∞–ª–∫–∞—Ö –¥–ª–∏–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `react-window` –∏–ª–∏ `react-virtual`

**–í–ª–∏—è–Ω–∏–µ:** üü† –°–†–ï–î–ù–ï–ï (–ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–º)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô (–ø–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –º–∞–ª–æ)

---

### 7. **Framer Motion - —Ç—è–∂–µ–ª–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**

**–§–∞–π–ª:** `package.json`
```json
"framer-motion": "^11.2.6"
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –†–∞–∑–º–µ—Ä: ~50-60 KB gzipped
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ CSS
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ JS

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ CSS transitions/animations –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ª—ë–≥–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (`react-spring` ~14 KB)

**–í–ª–∏—è–Ω–∏–µ:** üü† –°–†–ï–î–ù–ï–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –°–†–ï–î–ù–ò–ô

---

### 8. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Code Splitting**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í—Å–µ –º–æ–¥–∞–ª–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É
- –ù–µ—Ç lazy loading –¥–ª—è —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Bundle –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è

**–§–∞–π–ª—ã –¥–ª—è lazy loading:**
- –ú–æ–¥–∞–ª–∫–∏ (BulkUpdateModal, SwapRequestsModal, –∏ —Ç.–¥.)
- –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```typescript
const BulkUpdateModal = lazy(() => import('@/components/modals/BulkUpdateModal'));
```

**–í–ª–∏—è–Ω–∏–µ:** üü† –°–†–ï–î–ù–ï–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† –°–†–ï–î–ù–ò–ô

---

### 9. **–ù–µ—Ç —Å–∂–∞—Ç–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**

**–§–∞–π–ª:** `next.config.js`
```javascript
images: {
  domains: ['localhost'],  // ‚ùå –ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—Å–∞–π–∑–∞
- –ù–µ—Ç WebP/AVIF –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- –ù–µ—Ç lazy loading –¥–ª—è off-screen –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–í–ª–∏—è–Ω–∏–µ:** üü† –°–†–ï–î–ù–ï–ï
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô (–µ—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –º–∞–ª–æ)

---

## üü¢ –ú–ê–õ–´–ï –ü–†–û–ë–õ–ï–ú–´

### 10. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Service Worker / –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è**

- –ù–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏–∫–∏
- API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∫–µ—à–∏—Ä—É—é—Ç—Å—è
- –ù–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô

---

### 11. **–ù–µ—Ç debounce –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤**

**–§–∞–π–ª:** `CalendarFilters.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ input
- –ù–µ—Ç debounce - –ª–∏—à–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Debounce 300ms –¥–ª—è searchQuery

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô

---

### 12. **Date-fns: –ø–æ–ª–Ω—ã–π –∏–º–ø–æ—Ä—Ç**

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
import { format, startOfMonth, endOfMonth } from 'date-fns';
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tree-shaking friendly –∏–º–ø–æ—Ä—Ç—ã
- –ò–ª–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –±–æ–ª–µ–µ –ª—ë–≥–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É (day.js ~2KB vs date-fns ~30KB)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–ò–ó–ö–ò–ô

---

## üìä –ü–†–ò–û–†–ò–¢–ï–ó–ò–†–û–í–ê–ù–ù–´–ô –ü–õ–ê–ù –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

### üî• –§–ê–ó–ê 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—ç—Ñ—Ñ–µ–∫—Ç: 80% —É–ª—É—á—à–µ–Ω–∏–µ)

1. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å DayCell**
   - –°–æ–∑–¥–∞—Ç—å Map users –ø–æ ID –¥–ª—è O(1) –¥–æ—Å—Ç—É–ø–∞
   - –û–±–µ—Ä–Ω—É—Ç—å –≤ React.memo
   - –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å usersByStatus —á–µ—Ä–µ–∑ useMemo

2. **–ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å attendanceByDate**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useMemo –≤ Calendar.tsx

3. **–ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**
   - useMemo –¥–ª—è filteredAttendances –≤ page.tsx
   - useMemo –¥–ª—è filteredUsers

4. **–û–±–µ—Ä–Ω—É—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ React.memo**
   - DayCell
   - Calendar
   - CalendarFilters

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞–ª–µ–Ω–¥–∞—Ä—è: **10-20x –±—ã—Å—Ç—Ä–µ–µ**
- –ü–ª–∞–≤–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞: –æ—Ç "–ª–∞–≥–∞–µ—Ç" –¥–æ "–º–≥–Ω–æ–≤–µ–Ω–Ω–æ"

---

### üü° –§–ê–ó–ê 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è API (—ç—Ñ—Ñ–µ–∫—Ç: +15% —É–ª—É—á—à–µ–Ω–∏–µ)

1. **–ö–µ—à–∏—Ä–æ–≤–∞—Ç—å users**
   - –ù–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å users –ø—Ä–∏ —Å–º–µ–Ω–µ –º–µ—Å—è—Ü–∞
   - –û–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

2. **–£–±—Ä–∞—Ç—å include: { user }** –∏–∑ API attendance
   - –°–≤—è–∑—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

3. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
   - Promise.all –¥–ª—è attendance + comments

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:**
- –°–º–µ–Ω–∞ –º–µ—Å—è—Ü–∞: **2-3x –±—ã—Å—Ç—Ä–µ–µ**
- –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î

---

### üü† –§–ê–ó–ê 3: Bundle –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (—ç—Ñ—Ñ–µ–∫—Ç: +5% —É–ª—É—á—à–µ–Ω–∏–µ)

1. **Lazy load –º–æ–¥–∞–ª–æ–∫**
2. **–ó–∞–º–µ–Ω–∏—Ç—å Framer Motion –Ω–∞ CSS**
3. **Code splitting –ø–æ —Ä–æ—É—Ç–∞–º**

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:**
- –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: **20-30% –±—ã—Å—Ç—Ä–µ–µ**
- –ú–µ–Ω—å—à–µ JS –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ):**
- –†–µ–Ω–¥–µ—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è: ~500-1000ms (–ª–∞–≥–∞–µ—Ç)
- –°–º–µ–Ω–∞ –º–µ—Å—è—Ü–∞: ~800-1200ms
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ: —Ñ—Ä–∏–∑—ã –Ω–∞ 100-300ms

**–ü–æ—Å–ª–µ –§–ê–ó–´ 1:**
- –†–µ–Ω–¥–µ—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è: ~50-100ms ‚ú®
- –°–º–µ–Ω–∞ –º–µ—Å—è—Ü–∞: ~400-600ms
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ: –ø–ª–∞–≤–Ω–æ, –±–µ–∑ —Ñ—Ä–∏–∑–æ–≤

**–ü–æ—Å–ª–µ –§–ê–ó–´ 2:**
- –†–µ–Ω–¥–µ—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è: ~50-100ms ‚ú®
- –°–º–µ–Ω–∞ –º–µ—Å—è—Ü–∞: ~200-300ms ‚ú®
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ: –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

**–ü–æ—Å–ª–µ –§–ê–ó–´ 3:**
- –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: -200-300ms ‚ú®
- Bundle size: -30-40% ‚ú®

---

## üõ†Ô∏è –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è DayCell (–ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞):

```typescript
// –ë–´–õ–û (–º–µ–¥–ª–µ–Ω–Ω–æ):
const usersByStatus = attendances.reduce((acc, att) => {
  const user = users.find(u => u.id === att.userId);  // O(n) –ø–æ–∏—Å–∫!
  ...
}, {});

// –°–¢–ê–õ–û (–±—ã—Å—Ç—Ä–æ):
const usersMap = useMemo(
  () => new Map(users.map(u => [u.id, u])),
  [users]
);

const usersByStatus = useMemo(() => {
  return attendances.reduce((acc, att) => {
    const user = usersMap.get(att.userId);  // O(1) –ø–æ–∏—Å–∫!
    ...
  }, {});
}, [attendances, usersMap]);
```

**–£–ª—É—á—à–µ–Ω–∏–µ: –æ—Ç O(n√óm) –∫ O(m)** ‚Üí 10-100x –±—ã—Å—Ç—Ä–µ–µ!

---

## üìà –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –û–¢–°–õ–ï–ñ–ò–í–ê–ù–ò–Ø

1. **Time to Interactive (TTI)** - –≤—Ä–µ–º—è –¥–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
2. **Largest Contentful Paint (LCP)** - –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
3. **First Input Delay (FID)** - –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
4. **Total Blocking Time (TBT)** - –æ–±—â–µ–µ –≤—Ä–µ–º—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
5. **Bundle Size** - —Ä–∞–∑–º–µ—Ä JS bundle

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Chrome DevTools Performance
- React DevTools Profiler
- Lighthouse
- webpack-bundle-analyzer

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –í–ù–ï–î–†–ï–ù–ò–Ø

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- [ ] –°–æ–∑–¥–∞—Ç—å usersMap –≤ DayCell
- [ ] –û–±–µ—Ä–Ω—É—Ç—å DayCell –≤ React.memo
- [ ] useMemo –¥–ª—è attendanceByDate –≤ Calendar
- [ ] useMemo –¥–ª—è filteredAttendances –≤ page.tsx
- [ ] useMemo –¥–ª—è filteredUsers –≤ page.tsx

### API –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- [ ] –£–±—Ä–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å users –ø—Ä–∏ —Å–º–µ–Ω–µ –º–µ—Å—è—Ü–∞
- [ ] –£–¥–∞–ª–∏—Ç—å include: { user } –∏–∑ API attendance
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise.all –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ:
- [ ] Lazy loading –º–æ–¥–∞–ª–æ–∫
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å Framer Motion –Ω–∞ CSS
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webpack-bundle-analyzer
- [ ] Code splitting –ø–æ —Ä–æ—É—Ç–∞–º

---

**–ò—Ç–æ–≥:** –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - **–Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤ DayCell** + **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏**.
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–π–º—ë—Ç ~1-2 —á–∞—Å–∞, –¥–∞—Å—Ç **10-20x —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –∫–∞–ª–µ–Ω–¥–∞—Ä—è! üöÄ
